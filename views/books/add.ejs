<%- include('../partials/header') %>
<%- include('../partials/nav') %>

<div class="container mt-4">
  <% if (book && editMode) { %>
    <h2>Edit Book</h2>
    <form action="/books/<%= book.id %>/edit" method="POST">
      <div class="mb-3">
        <label>Title</label>
        <input type="text" name="title" class="form-control" value="<%= book.title %>" required>
      </div>
      <div class="mb-3">
        <label>Author</label>
        <input type="text" name="author" class="form-control" value="<%= book.author %>" required>
      </div>
      <div class="mb-3">
        <label>Genre</label>
        <input type="text" name="genre" class="form-control" value="<%= book.genre %>" required>
      </div>
      <div class="mb-3">
        <label>Price</label>
        <input type="number" step="0.01" name="price" class="form-control" value="<%= book.price %>" required>
      </div>
      <div class="mb-3">
        <label>Image URL</label>
        <input type="text" name="image" class="form-control" value="<%= book.image %>">
      </div>
      <button type="submit" class="btn btn-primary">Update Book</button>
    </form>
  <% } else { %>
    <h2>Add New Book</h2>
    <form action="/books/add" method="POST">
      <div class="mb-3">
        <label>Title</label>
        <input type="text" name="title" class="form-control" required>
      </div>
      <div class="mb-3">
        <label>Author</label>
        <input type="text" name="author" class="form-control" required>
      </div>
      <div class="mb-3">
        <label>Genre</label>
        <input type="text" name="genre" class="form-control" required>
      </div>
      <div class="mb-3">
        <label>Price</label>
        <input type="number" step="0.01" name="price" class="form-control" required>
      </div>
      <div class="mb-3">
        <label>Image URL</label>
        <input type="text" name="image" class="form-control">
      </div>
      <button type="submit" class="btn btn-success">Add Book</button>
    </form>
  <% } %>
</div>

<%- include('../partials/footer') %>
